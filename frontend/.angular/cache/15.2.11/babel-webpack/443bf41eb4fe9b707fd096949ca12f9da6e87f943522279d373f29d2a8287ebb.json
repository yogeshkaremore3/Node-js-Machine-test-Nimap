{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nlet ProductsComponent = class ProductsComponent {\n  constructor(http) {\n    this.http = http;\n    this.products = [];\n    this.page = 1;\n    this.size = 10;\n    this.totalPages = 1;\n    this.count = 0;\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.http.get(`/api/products?page=${this.page}&size=${this.size}`).subscribe(res => {\n      this.products = res.data;\n      this.page = res.page;\n      this.size = res.size;\n      this.totalPages = res.totalPages;\n      this.count = res.count;\n    });\n  }\n  go(p) {\n    if (p < 1) p = 1;\n    if (p > this.totalPages) p = this.totalPages;\n    this.page = p;\n    this.load();\n  }\n  setSize(s) {\n    this.size = s;\n    this.page = 1;\n    this.load();\n  }\n  deleteProduct(id) {\n    if (confirm(\"Delete?\")) this.http.delete(`/api/products/${id}`).subscribe(() => this.load());\n  }\n};\nProductsComponent = __decorate([Component({\n  template: `\n    <div style=\"display:flex;justify-content:space-between;align-items:center\">\n      <h2>Products</h2>\n      <a routerLink=\"/products/new\" class=\"button\">Add a New Product</a>\n    </div>\n\n  \n\n    <table>\n      <thead>\n        <tr>\n          <th>ProductId</th>\n          <th>ProductName</th>\n          <th>CategoryName</th>\n          <th>CategoryId</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let p of products\">\n          <td>{{ p.ProductId }}</td>\n          <td>{{ p.ProductName }}</td>\n          <td>{{ p.CategoryName }}</td>\n          <td>{{ p.CategoryId }}</td>\n          <td>\n            <a class=\"Edit_Act_btn\" [routerLink]=\"['/products/edit', p.ProductId]\">Edit</a>\n            <a class=\"Delete_Act_btn\"\n              href=\"#\"\n              (click)=\"deleteProduct(p.ProductId); $event.preventDefault()\"\n              >Delete</a\n            >\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div style=\"margin-top:16px\">\n      <button id=\"first_btn\" (click)=\"go(1)\" [disabled]=\"page === 1\">First</button>\n      <button id=\"prev_btn\" (click)=\"go(page - 1)\" [disabled]=\"page === 1\">Prev</button>\n      <span style=\"margin:0 8px\">{{ page }}</span>\n      <button id=\"next_btn\" (click)=\"go(page + 1)\" [disabled]=\"page === totalPages\">\n        Next\n      </button>\n      <button id=\"last_btn\" (click)=\"go(totalPages)\" [disabled]=\"page === totalPages\">\n        Last\n      </button>\n\n      <span style=\"margin-left:12px\">\n        Size:\n        <a class=\"size_btn\" href=\"#\" (click)=\"setSize(5); $event.preventDefault()\">5</a> |\n        <a class=\"size_ href=\"#\" (click)=\"setSize(10); $event.preventDefault()\">10</a> |\n        <a href=\"#\" (click)=\"setSize(20); $event.preventDefault()\">20</a>\n      </span>\n    </div>\n  `\n})], ProductsComponent);\nexport { ProductsComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}